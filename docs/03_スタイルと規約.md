# スタイルと規約

## TypeScript
- `tsconfig.json` は `strict: true`。未使用変数チェックの一部 (`noUnusedLocals`, `noUnusedParameters`) は無効化されているため、レビュー時に手動確認する。
- モジュール解決は `moduleResolution: bundler`。Bun のネイティブ解決に合わせる。
- import/export は ES Module (`verbatimModuleSyntax: true`) 準拠。不要な CommonJS 変換を避ける。
- Bun の型 (`Bun.Security.Scanner`, `Bun.Security.Package`) を直接利用。Rails へ移行する際は型定義を別レイヤーに抽出して互換性を保つことを推奨。

## 命名・コードスタイル
- インターフェース/型は `PascalCase`、変数・関数は `camelCase`。
- 脅威カテゴリはリテラル型 (`'malware' | 'backdoor'` など) で厳密化。
- コメントは機能の背景を説明し、テンプレートとしての意図を明示している。不要な詳細コメントは削除しても良いが、利用者へのガイドは維持する。

## フォーマット
- Biome 2 系を利用。`biome.json` の設定でタブ (`\t`) インデントとダブルクオートを維持する。
- Markdown でも 80 行幅程度を意識し、リンクは `[...]()` 形式で記述。

## テスト方針
- `bun:test` の `test`/`expect` API を使用。非同期テストは `async`/`await` を利用。
- 既存テストは挙動例のカバレッジを提供するテンプレート。新規ロジックを追加した場合はケースを増やす。
- モックデータはテスト内に直接定義。外部依存は `fetch` 等へ置き換える場合でも、Bun のミニマルなモックにとどめる。

## ドキュメント
- README はテンプレートとしての全体像を保持しているため、大幅な改変時はプロジェクト固有の情報を追記する。
- プロジェクト固有の運用ルールや Rails 連携計画は `docs/` 配下に追記して共有する。
